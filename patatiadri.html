<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Prueba para iOS</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background: linear-gradient(180deg, #0a0a0a, #1a1a1a, #0a0a0a);
    background-size: 100% 300%;
    animation: nightGradient 30s ease-in-out infinite alternate;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    font-family: 'Courier New', monospace;
    color: #e0e0e0;
    overflow-x: hidden;
    position: relative;
  }
  @keyframes nightGradient {
    0% { background-position: 0% 0%; }
    100% { background-position: 0% 100%; }
  }
  .stars {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
  }
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: rgba(255,255,255,0.8);
    border-radius: 50%;
    animation: twinkle 3s infinite alternate;
  }
  @keyframes twinkle {
    from { opacity: 0.3; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1.3); }
  }
  .container {
    text-align: center;
    width: 90%;
    max-width: 500px;
    position: relative;
    z-index: 1;
  }
  .message {
    font-size: 18px;
    line-height: 1.6;
    margin-bottom: 15px;
    text-align: left;
    white-space: pre-wrap;
    max-width: 100%;
    padding-right: 5px;
    min-height: 2.2em;
    overflow-wrap: break-word;
    cursor: default;
    text-shadow: 0 0 6px rgba(217,4,41,0.6);
  }
  .counter {
    margin-top: 30px;
    font-size: 16px;
    background: rgba(0, 0, 0, 0.3);
    padding: 15px;
    border-radius: 5px;
    border: 1px solid #d90429;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 1s forwards 7s;
  }
  @keyframes fadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .highlight {
    color: #d90429;
    font-weight: bold;
  }
  /* Lobos estilo Witcher con imagen medallón */
  .wolf {
    position: absolute;
    width: 50px;
    height: 50px;
    cursor: pointer;
    opacity: 0;
    animation: wolf-float 6s linear forwards, wolf-glow 1.5s infinite alternate;
    filter: drop-shadow(0 0 6px #d90429);
    z-index: 50;
  }
  .wolf img {
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
  @keyframes wolf-float {
    0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
    100% { transform: translate(var(--tx), var(--ty)) rotate(360deg); opacity: 0; }
  }
  @keyframes wolf-glow {
    from { filter: drop-shadow(0 0 3px #d90429); }
    to { filter: drop-shadow(0 0 15px #ff001e); }
  }
  .popup {
    position: absolute;
    color: #d90429;
    font-size: 20px;
    animation: fadeOut 2s forwards;
    z-index: 100;
    pointer-events: none;
    white-space: nowrap;
    font-weight: bold;
    text-shadow: 0 0 5px #d90429;
  }
  @keyframes fadeOut {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-50px); }
  }
  .rain {
    position: absolute;
    width: 2px;
    height: 15px;
    background: rgba(255, 255, 255, 0.3);
    bottom: 100%;
    animation: fall linear infinite;
    z-index: 0;
  }
  @keyframes fall {
    to { transform: translateY(120vh); }
  }
  @media screen and (max-width: 600px) {
    .message { font-size: 16px; }
    .counter { font-size: 14px; }
    .popup { font-size: 18px; }
  }
</style>
</head>
<body>
  <div class="stars" id="stars"></div>
  <div class="container">
    <div class="message" id="line1"></div>
    <div class="message" id="line2"></div>
    <div class="message" id="line3"></div>
    <div class="counter" id="counter">
      Desde el día en que el destino nos cruzó, mi amor por ti crece como la leyenda del lobo...<br />
      <span id="time" class="highlight">0 días 0 horas 0 minutos 0 segundos</span>
    </div>
  </div>
  <script>
    const messages = [
      "A la reina de mi destino y de mis historias.",
      "Cuanto más tiempo estoy contigo, más siento que somos parte de la misma historia.",
      "A tu lado, ningún obstaculo es imposible."
    ];
    function typeWriter(text, element, delay = 40) {
      return new Promise((resolve) => {
        let i = 0;
        element.textContent = "";
        const interval = setInterval(() => {
          element.textContent += text.charAt(i);
          i++;
          if (i >= text.length) {
            clearInterval(interval);
            resolve();
          }
        }, delay);
      });
    }
    async function startTypingSequence() {
      for (let i = 0; i < messages.length; i++) {
        await typeWriter(messages[i], document.getElementById(`line${i + 1}`));
        await new Promise(r => setTimeout(r, 800));
      }
    }
    function createWolf() {
      const wolf = document.createElement("div");
      wolf.className = "wolf";
      wolf.innerHTML = `<img width="64" height="64" src="https://img.icons8.com/nolan/64/witcher.png" alt="witcher"/>`;
      wolf.style.left = `${Math.random() * 100}vw`;
      wolf.style.top = `${Math.random() * 100}vh`;
      wolf.style.setProperty("--tx", `${Math.random() * 100 - 50}px`);
      wolf.style.setProperty("--ty", `${Math.random() * -100 - 50}px`);
      document.body.appendChild(wolf);
      wolf.addEventListener("click", (e) => {
        const popup = document.createElement("div");
        popup.className = "popup";
        popup.style.left = `${e.clientX}px`;
        popup.style.top = `${e.clientY}px`;
        popup.textContent = "Adriana ❤️";
        document.body.appendChild(popup);
        setTimeout(() => popup.remove(), 2000);
      });
      setTimeout(() => wolf.remove(), 6000);
    }
    function createRain() {
      for (let i = 0; i < 100; i++) {
        const drop = document.createElement("div");
        drop.className = "rain";
        drop.style.left = `${Math.random() * 100}vw`;
        drop.style.animationDuration = `${Math.random() * 2 + 1}s`;
        drop.style.animationDelay = `${Math.random() * 5}s`;
        document.body.appendChild(drop);
      }
    }
    function createStars() {
      const starContainer = document.getElementById('stars');
      for (let i = 0; i < 60; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.top = `${Math.random() * 100}vh`;
        star.style.left = `${Math.random() * 100}vw`;
        star.style.animationDuration = `${Math.random() * 3 + 2}s`;
        starContainer.appendChild(star);
      }
    }
    function startCounter() {
      const startDate = new Date("2024-04-18T00:00:00");
      const timeElement = document.getElementById("time");
      function updateCounter() {
        const now = new Date();
        const diff = now - startDate;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        timeElement.textContent = `${days} días ${hours} horas ${minutes} minutos ${seconds} segundos`;
      }
      updateCounter();
      setInterval(updateCounter, 1000);
    }
    document.addEventListener("DOMContentLoaded", () => {
      startTypingSequence();
      startCounter();
      createRain();
      createStars();
      setInterval(() => {
        if (Math.random() > 0.3) createWolf();
      }, 1000);
    });
  </script>
</body>
</html>